<!DOCTYPE html>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


<div id="app">
  <div class="container">
    <div class="card mt-5">

    </div>
    <table class="table">
      <thead class="thead-light">
        <th>Name</th>
        <th>Close Approach Date</th>
      </thead>
      <tbody v-cloak>
        <tr v-for="a in asteroids">
          <td>{{a.name}}</td>
          <td>{{getCloseApproachDate(a)}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<!-- fetch api -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

  let vm = new Vue({
    el: '#app',
    data: {
      asteroids: [],
    },
    created: function () {
      this.fetchAsteriods();
    },
    methods: {
      fetchAsteriods: function () {
        const apiKey = 'voIg6skzzuhbfI22UIKhx9O6URnUsXnrB9jW7SQc';
        const url = 'https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=' + apiKey;
        axios.get(url)
          .then(function (res) {
            vm.asteroids = res.data.near_earth_objects.slice(0, 10);
          });
      },
      getCloseApproachDate: function (a) {
        if (a.close_approach_data.length > 0) {
          return a.close_approach_data[0].close_approach_date;
        }
        return 'N/A';
      }
    }
  })


</script>